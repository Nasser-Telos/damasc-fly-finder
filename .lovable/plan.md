
# صفحة استكشاف الرحلات - تقويم الاسعار

## الفكرة
عند الضغط على "استكشف رحلات دمشق" او "استكشف رحلات حلب" في الصفحة الرئيسية، ينتقل المستخدم الى صفحة جديدة تعرض تقويم شهري يظهر ارخص سعر لكل يوم. بهذه الطريقة يعرف المستخدم فورا افضل يوم للسفر وارخص رحلة متاحة.

## تصميم الصفحة

### القسم العلوي
- **عنوان**: "رحلات من وإلى دمشق" (او حلب)
- **زر رجوع**: للعودة للصفحة الرئيسية
- **فلتر الوجهة**: ازرار افقية (pills) لاختيار "جميع الوجهات" او وجهة محددة (دبي، بيروت، عمان...)

### التقويم الشهري
- **التنقل**: اسهم يمين/يسار لتغيير الشهر (مثلا: < فبراير 2026 >)
- **شبكة الايام**: 7 اعمدة (السبت، الاحد، ... الجمعة)
- **كل خانة يوم**: رقم اليوم + ارخص سعر بالدولار
- **تلوين ذكي**:
  - اخضر فاتح = ارخص الايام
  - اصفر فاتح = متوسط
  - برتقالي فاتح = الاغلى
- **اليوم المختار**: حدود زرقاء عند الضغط

### قائمة الرحلات (تحت التقويم)
- عند الضغط على يوم معين في التقويم، تظهر جميع الرحلات المتاحة لذلك اليوم
- كل رحلة تعرض: شركة الطيران + المسار (من - الى) + وقت المغادرة/الوصول + المدة + السعر
- مرتبة من الارخص للاغلى
- اذا لم يتم اختيار يوم، تظهر جميع الرحلات المتاحة مرتبة بالسعر

---

## التفاصيل التقنية

### الملفات الجديدة

**1. `src/pages/Explore.tsx`** - صفحة الاستكشاف الرئيسية
- تستقبل كود المطار من URL (`/explore/DAM` او `/explore/ALP`)
- تستخدم `useAllFlightsForAirport` hook الموجود مسبقا لجلب جميع الرحلات
- تحسب ارخص سعر لكل يوم بناء على `days_of_week` في كل رحلة
- تدير حالة الشهر المختار واليوم المختار والوجهة المختارة

**2. `src/pages/Explore.css`** - تصميم الصفحة
- تتبع نفس اسلوب التصميم الحالي (خط Rubik، الوان متناسقة)
- تقويم متوافق 100% مع الموبايل
- خلايا التقويم بحجم مناسب للمس (44px كحد ادنى)

**3. `src/components/flight/PriceCalendar.tsx`** - مكون التقويم
- يستقبل قائمة الرحلات والشهر الحالي
- يحسب ايام الشهر ويربط كل يوم بـ day_of_week
- يعرض شبكة 7 اعمدة مع التلوين حسب السعر
- يدعم التنقل بين الاشهر

**4. `src/components/flight/ExploreFlightCard.tsx`** - بطاقة الرحلة المبسطة
- تعرض معلومات الرحلة بتصميم بسيط ونظيف
- شعار الشركة + المسار + الوقت + السعر

### تعديل الملفات الموجودة

**5. `src/App.tsx`** - اضافة مسار جديد
- اضافة route: `/explore/:airportCode`

**6. `src/pages/Index.tsx`** - تحديث روابط الاستكشاف
- تغيير onClick من navigate الى `/search` ليصبح `/explore/DAM` و `/explore/ALP`

### منطق حساب الاسعار

```text
لكل يوم في الشهر:
  1. حساب يوم الاسبوع (1=اثنين ... 7=احد)
  2. تصفية الرحلات التي تعمل في هذا اليوم (days_of_week يحتوي هذا الرقم)
  3. اذا تم اختيار وجهة محددة: تصفية اضافية
  4. اخذ ارخص سعر من الرحلات المتبقية
  5. تلوين الخانة بناء على مقارنة السعر مع باقي ايام الشهر
```

### هيكل الصفحة على الهاتف

```text
+----------------------------------+
|  <  رحلات من وإلى دمشق          |
+----------------------------------+
| جميع | دبي | بيروت | عمان | ... |
+----------------------------------+
|      <  فبراير 2026  >           |
+--+----+----+----+----+----+----+
|سب| أحد| إثن| ثلا| أرب| خمي| جمع|
+--+----+----+----+----+----+----+
|  |    |    |    |    |    | 1  |
|  |    |    |    |    |    |$85 |
+--+----+----+----+----+----+----+
| 2 | 3  | 4  | 5  | 6  | 7  | 8 |
|$85|$85 |$85 |$85 |$85 |$85 |$85|
+--+----+----+----+----+----+----+
| ...                              |
+----------------------------------+
|  رحلات يوم 6 فبراير              |
+----------------------------------+
| طيران الشرق الأوسط               |
| بيروت ← دمشق  08:00  $85       |
+----------------------------------+
| الملكية الأردنية                  |
| عمّان ← دمشق  09:00  $95       |
+----------------------------------+
| ...                              |
+----------------------------------+
```

### التوافق مع الهاتف
- التقويم يستخدم CSS Grid مع اعمدة متساوية
- حجم خلية اليوم: ~48px ارتفاع على الموبايل
- الاسعار بخط صغير (11px) داخل كل خلية
- التمرير الافقي للوجهات (pills) اذا كانت كثيرة
- التصميم يتبع نفس لغة التصميم الحالية (Rubik font، الوان primary)
